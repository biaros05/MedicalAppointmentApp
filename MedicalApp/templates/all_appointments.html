{% extends "base.html" %}
{% block content %}
<h2>Patient Dashboard</h2>
<div>
    <h3>Welcome, {{ current_user.first_name }}!</h3>
</div>
<div>
    <h4>Pending Appointments:</h4>
    <ul>
        {% for appointment in appointments %}
        {% if appointment.status == 0 %}
        <li>
            <strong>Date:</strong> {{ appointment.appointment_time }}
            <strong>Doctor:</strong> {{ appointment.doctor }}
            <strong>Description:</strong> {{ appointment.description }}
            <a href="{{ url_for('appointments.update_patient_appointment', id=appointment.id) }}">Modify Appointment</a>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
<div>
    <h4>Accepted Appointments:</h4>
    <ul>
        {% for appointment in appointments %}
        {% if appointment.status == 1 %}
        <li>
            <strong>Date:</strong> {{ appointment.appointment_time }} <br>
            <strong>Doctor:</strong> {{ appointment.doctor }} <br>
            <strong>Location:</strong> {{ appointment.location }} <br>
            <strong>Description:</strong> {{ appointment.description }} <br>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
<div>
    <h4>Refused Appointments:</h4>
    <ul>
        {% for appointment in appointments %}
        {% if appointment.status == -1 %}
        <li>
            <strong>Date:</strong> {{ appointment.appointment_time }} <br>
            <strong>Doctor:</strong> {{ appointment.doctor }} <br>
            <strong>Location:</strong> {{ appointment.location }} <br>
            <strong>Description:</strong> {{ appointment.description }} <br>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
{% endblock content %}